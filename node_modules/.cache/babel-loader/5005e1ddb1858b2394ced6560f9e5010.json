{"ast":null,"code":"import Axios from \"axios\";\nconst protocol = document.location.protocol;\nconst hostname = document.location.hostname;\nconst port = 4600;\nconst urls = {\n  products: `${protocol}//${hostname}:${port}/products`,\n  orders: `${protocol}//${hostname}:${port}/orders`\n};\nexport class HttpHandler {\n  loadProducts(callback) {\n    Axios.get(urls.products).then(response => callback(response.data));\n  }\n\n  storeOrder(order, callback) {\n    let orderData = {\n      lines: [...order.orderLines.values()].map(ol => ({\n        productId: ol.product.id,\n        productName: ol.product.name,\n        quantity: ol.quantity\n      }))\n    };\n    Axios.post(urls.orders, orderData).then(response => callback(response.data.id));\n  }\n\n}","map":{"version":3,"sources":["/Users/matthewhill/Downloads/essential-typescript-master/20 - React Web App -2/reactapp/src/data/httpHandler.ts"],"names":["Axios","protocol","document","location","hostname","port","urls","products","orders","HttpHandler","loadProducts","callback","get","then","response","data","storeOrder","order","orderData","lines","orderLines","values","map","ol","productId","product","id","productName","name","quantity","post"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAGA,MAAMC,QAAQ,GAAGC,QAAQ,CAACC,QAAT,CAAkBF,QAAnC;AACA,MAAMG,QAAQ,GAAGF,QAAQ,CAACC,QAAT,CAAkBC,QAAnC;AACA,MAAMC,IAAI,GAAG,IAAb;AAEA,MAAMC,IAAI,GAAG;AACTC,EAAAA,QAAQ,EAAG,GAAEN,QAAS,KAAIG,QAAS,IAAGC,IAAK,WADlC;AAETG,EAAAA,MAAM,EAAG,GAAEP,QAAS,KAAIG,QAAS,IAAGC,IAAK;AAFhC,CAAb;AAKA,OAAO,MAAMI,WAAN,CAAkB;AAErBC,EAAAA,YAAY,CAACC,QAAD,EAAgD;AACxDX,IAAAA,KAAK,CAACY,GAAN,CAAUN,IAAI,CAACC,QAAf,EAAyBM,IAAzB,CAA8BC,QAAQ,IAAIH,QAAQ,CAACG,QAAQ,CAACC,IAAV,CAAlD;AACH;;AAEDC,EAAAA,UAAU,CAACC,KAAD,EAAeN,QAAf,EAAqD;AAC3D,QAAIO,SAAS,GAAG;AACZC,MAAAA,KAAK,EAAE,CAAC,GAAGF,KAAK,CAACG,UAAN,CAAiBC,MAAjB,EAAJ,EAA+BC,GAA/B,CAAmCC,EAAE,KAAK;AAC7CC,QAAAA,SAAS,EAAED,EAAE,CAACE,OAAH,CAAWC,EADuB;AAE7CC,QAAAA,WAAW,EAAEJ,EAAE,CAACE,OAAH,CAAWG,IAFqB;AAG7CC,QAAAA,QAAQ,EAAEN,EAAE,CAACM;AAHgC,OAAL,CAArC;AADK,KAAhB;AAOA7B,IAAAA,KAAK,CAAC8B,IAAN,CAAWxB,IAAI,CAACE,MAAhB,EAAwBU,SAAxB,EACKL,IADL,CACUC,QAAQ,IAAIH,QAAQ,CAACG,QAAQ,CAACC,IAAT,CAAcW,EAAf,CAD9B;AAEH;;AAhBoB","sourcesContent":["import Axios from \"axios\";\nimport { Product, Order}  from \"./entities\";\n\nconst protocol = document.location.protocol;\nconst hostname = document.location.hostname;\nconst port = 4600;\n\nconst urls = {\n    products: `${protocol}//${hostname}:${port}/products`,\n    orders: `${protocol}//${hostname}:${port}/orders`\n};\n\nexport class HttpHandler {\n\n    loadProducts(callback: (products: Product[]) => void): void {\n        Axios.get(urls.products).then(response => callback(response.data))\n    }\n\n    storeOrder(order: Order, callback: (id: number) => void): void {\n        let orderData = {\n            lines: [...order.orderLines.values()].map(ol => ({\n                productId: ol.product.id,\n                productName: ol.product.name,\n                quantity: ol.quantity\n            }))\n        }\n        Axios.post(urls.orders, orderData)\n            .then(response => callback(response.data.id));\n    }\n}\n"]},"metadata":{},"sourceType":"module"}